---
index: 1
---

# 什么是标签?

`Label JavaScript/TypeScript` 称为 `标签 JS/TS`, 是 `Preezid` 的 DSL.

而 `label 标签`, 则是 `ljs/lts` 最大的特色之一.

## 文件结构

以 `lts` 为例(_下面若未特殊提及, 均为 `ljs/lts` 均适用, 因此下文只提交 `lts`_):

```lts
define {
  // 导入模块, 定义状态, 函数等
}

load {
  // 使用标签语法构建 UI
}

style {
  // 使用 Preezid Style 语法定义样式, 详见 styling 章节
}
```

`lts` 的文件结构与 `vue` 单文件组件高度类似, 因此每个 `lts` 文件也是单文件组件.

## 标签语法

`ts` 中有若干保留的关键字, 它们在函数的上一级, 有各自的行为, 直接与编译器交互.

而 `lts` 中的 `标签`, 则是 `ts` 关键字的补充, 它们同样在函数的上一级.

标签分为两种, 一种是 `语法标签(Syntax Label)`, 另一种是 `UI 标签(UI Label)`, `语法标签` 直接内置, `UI 标签` 则需要通过 `label()` 导入.

```lts
define {
  useLabel("preezid") // 导入 Preezid UI 标签库, 一般 Preezid UI 标签会被默认导入, 可省略此行
  useLabel("custom", "C") // 导入自定义 UI 标签库, 并使用前缀 C
}

load {
  button.@click(handleClick) { "Click me!" }
}
```

示例中, `define` 和 `load` 为语法标签, `button` 为 UI 标签.

## 标签属性

标签可以拥有属性, 语法标签的属性详见 标签列表 章节, UI 标签默认拥有如下属性:

- `.attr()`: 设置对应 DOM 元素的任意属性, 传入一个对象, 例如:

    ```lts
    div.attr({ class: "class-1", id: "id-1" })
    ```

- `.class()`: 设置对应 DOM 元素的 class 属性, 支持多个 class, 例如:

    ```lts
    div.class("class-1 class-2")
    div.clasS("class-1", "class-2")
    div.class(["class-1", "class-2"])
    ```

- `.style()`: 设置对应 DOM 元素的 style 属性, 支持对象, Preezid Style 字符串, 例如:

    ```lts
    div.style({ color: "red", fontSize: "16px" })
    // Preezid Style 字符串正在设计中
    ```

- `.event()`: 设置对应 DOM 元素的事件监听器, 传入对应事件名和回调函数, 例如

    ```lts
    button.event("click", handleClick)
    ```
    
    或使用如下简写形式, 使用 `@` 标记事件:

    ```lts
    button.@click(handleClick)
    ```

- `.slot() {}`: 设置对应 DOM 元素的插槽内容, 使用方法如下:

    1. 若元素只有一个默认插槽(如 html 默认元素), 则不使用 `.slot()` 属性, 而是直接使用 `{}` 传入内容, 例如:

        ```lts
        div { "I am the inner content" }
        ```
    
    2. 若元素有多个命名插槽(如自定义组件), 则使用 `.slot()` 属性传入插槽名和内容, 例如:

        ```lts
        MyComponent
          .slot("header") { "I am the header content" }
          .slot("footer") { "I am the footer content" }
        ```
        
        或使用如下简写形式, 使用 `#` 标记插槽名:

        ```lts
        MyComponent
          .#header { "I am the header content" }
          .#footer { "I am the footer content" }
        ```

- `.node() {}`: 设置对应 DOM 元素的依赖节点(详见 依赖节点 章节), 使用方法如下:

    ```lts
    div.node("warpper") {
      span { "I am a dependent node" }
    }
    ```
    
    或使用如下简写形式, 使用 `*` 标记依赖节点类型:

    ```lts
    div.*warpper {
      span { "I am a dependent node" }
    }
    ```

对于 `组件` , 还有如下数学, 具体详见 组件 章节:

- `.props()`: 设置组件的属性, 使用方法如下:

    ```lts
    MyComponent.props({ key1: value1, key2: value2 })
    MyComponent.props({ key1: value1 }).props({ key2: value2 })
    ```
    
    或使用如下简写形式, 使用 `!` 标记属性键:

    ```lts
    MyComponent.!key1(value1).!key2(value2)
    ```

- `.bind()`: 绑定组件的属性, 使用方法如下:

    ```lts
    MyComponent.bind({ key1: value1, key2: value2 })
    MyComponent.bind({ key1: value1 }).bind({ key2: value2 })
    ```
    
    或使用如下简写形式, 使用 `:` 标记属性键:

    ```lts
    MyComponent.:key1(value1).:key2(value2)
    ```

关于 `props` 和 `bind` 的区别, 详见 组件 章节.


## `ts` 支持

每个标签会被渲染成一个 DOM, 因此每个标签直接都是独立的代码区域, 不同于 `tsx` 的 `xml` 区域内只能使用 `ts` 表达式, `lts` 可以在标签内直接使用 `ts` 语句, 例如:

```tsx
<div>
  arr.map(item => (<span>{ item.name }</span>)) // 是表达式, 可行
  
  for (const item of arr) <span>{ item.name }</span> // 不是表达式, 不可行
</div>
```

```lts
div {
  arr.forEach(item => { span { item.name }} // 可行
  
  for (const item of arr) span { item.name } // 直接使用语句, 也可行
}
```
